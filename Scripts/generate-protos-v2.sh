#!/bin/bash
set -e; echo "Starting proto generation..."; SCRIPT_DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"; PROJECT_ROOT="$( cd "$SCRIPT_DIR/../../.." && pwd )"; PROTO_DIR="$PROJECT_ROOT/proto-management/proto"; OUTPUT_DIR="$SCRIPT_DIR/../ClassNotes/Core/Networking/gRPC/Generated"; mkdir -p "$OUTPUT_DIR"; echo "Proto dir: $PROTO_DIR"; echo "Output dir: $OUTPUT_DIR"; protoc --proto_path="$PROTO_DIR" --swift_out="$OUTPUT_DIR" --swift_opt=Visibility=Public --grpc-swift_out="$OUTPUT_DIR" --grpc-swift_opt=Visibility=Public --grpc-swift_opt=Client=true --grpc-swift_opt=Server=false "$PROTO_DIR/classnotes/v1/classnotes_service.proto"; echo "Complete!"
